var initializer=function(){var c=!1;return{calculateRainIntensity:function(a){return a/(1.5*sliderUtil.allSliders[sliderUtil.sliderPositions.rainSlider].max)},registerRainHandler:function(){sliderUtil.registerEventHandler(sliderUtil.allSliders[sliderUtil.sliderPositions.rainSlider].$elem,"slide",function(a,b){storageManager.setItem(globalConfig.storageConfig.rainAmount,b.value);a.target.setAttribute("aria-valuenow",b.value);var d=initializer.calculateRainIntensity(b.value);userSettings.changeRainIntensity(d);
rainSoundPlayer.changeVolumeModifier(d)})},registerThunderHandler:function(){sliderUtil.registerEventHandler(sliderUtil.allSliders[sliderUtil.sliderPositions.thunderDistanceSlider].$elem,"slide",function(a,b){userSettings.changeDistanceToThunder(b.value);storageManager.setItem(globalConfig.storageConfig.thunderAmount,b.value);a.target.setAttribute("aria-valuenow",b.value)})},registerLightningHandler:function(){sliderUtil.registerEventHandler(sliderUtil.allSliders[sliderUtil.sliderPositions.lightningSlider].$elem,
"slidechange",function(a,b){userSettings.changeLightningFrequency(globalConfig.lightningConfig.timeBetweenLightning[b.value-1]);storageManager.setItem(globalConfig.storageConfig.lightningAmount,b.value);a.target.setAttribute("aria-valuenow",b.value)})},registerChangeSettingsHandler:function(){pageElements.thumbnails.forEach(function(a){function b(a){a=a.target;var b=globalConfig.thumbnailConfig,b=document.querySelector("."+b.thumbnailClass+"."+b.activeClass);userSettings.changeActiveThumbnail(b,a);
userSettings.changeImage(a.src,a.alt);storageManager.setItem(globalConfig.storageConfig.backgroundImg,a.id)}a.addEventListener("click",function(a){b(a)});a.addEventListener("keypress",function(a){13===a.keyCode&&b(a)})})},registerPauseHandler:function(){pageElements.pauseButton.button.addEventListener("click",function(a){a=userSettings.changeSoundState();storageManager.setItem(globalConfig.storageConfig.isSoundPlaying,a);c||(domUtility.setLoadingText(pageElements.pauseButton.icon,pageElements.pauseButton.loading,
globalConfig.labels.loading),rainSoundPlayer.unlockWebAudioApi(),rainSoundPlayer.init(),c=!0,thunderProvider.initInstances())})},registerVolumeHandler:function(){pageElements.volumeButton.button.addEventListener("click",function(a){userSettings.changeVolume();storageManager.setItem(globalConfig.storageConfig.volume,userSettings.getCurrentVolume())})},initThunder:function(){var a=storageManager.getItem(globalConfig.storageConfig.thunderAmount),a=null===a?sliderUtil.allSliders[sliderUtil.sliderPositions.thunderDistanceSlider].startValue:
parseInt(a);sliderUtil.setValueForSlider(sliderUtil.allSliders[sliderUtil.sliderPositions.thunderDistanceSlider].$elem,a);userSettings.changeDistanceToThunder(a);thunderProvider.changeVolume(userSettings.getCurrentVolume())},initLightning:function(){var a=storageManager.getItem(globalConfig.storageConfig.lightningAmount),a=null===a?sliderUtil.allSliders[sliderUtil.sliderPositions.lightningSlider].startValue-1:parseInt(a);userSettings.changeLightningFrequency(globalConfig.lightningConfig.timeBetweenLightning[a-
1]);sliderUtil.setValueForSlider(sliderUtil.allSliders[sliderUtil.sliderPositions.lightningSlider].$elem,a)},initVolume:function(){var a=storageManager.getItem(globalConfig.storageConfig.volume);null===a&&(a=1);userSettings.initVolume(parseFloat(a))},initRain:function(){var a=storageManager.getItem(globalConfig.storageConfig.rainAmount);null!==a?(a=parseInt(a),sliderUtil.setValueForSlider(sliderUtil.allSliders[sliderUtil.sliderPositions.rainSlider].$elem,a),a=this.calculateRainIntensity(a),userSettings.changeRainIntensity(a)):
a=this.calculateRainIntensity(sliderUtil.allSliders[sliderUtil.sliderPositions.rainSlider].startValue);rainSoundPlayer.changeVolumeModifier(a)},initSelectedThumbnail:function(){var a=storageManager.getItem(globalConfig.storageConfig.backgroundImg);null!==a&&document.getElementById(a).click()},saveVersion:function(){storageManager.setItem(globalConfig.storageConfig.version,"1.2")}}}();initializer.initVolume();initializer.initRain();initializer.registerRainHandler();initializer.registerThunderHandler();
initializer.registerLightningHandler();initializer.registerChangeSettingsHandler();initializer.registerPauseHandler();initializer.registerVolumeHandler();initializer.initThunder();initializer.initLightning();initializer.initSelectedThumbnail();initializer.saveVersion();
